on: [push]

jobs:
  scan-codebase:
    runs-on: ubuntu-24.04
    name: Scan codebase and check for compliance issues
    steps:
      - uses: actions/checkout@v4
        with:
          path: scancode-inputs
      - name: Run scancode-action from current branch
        uses: ./scancode-inputs
        with:
          pipelines: "scan_codebase"
          check-compliance: true
          compliance-fail-level: "WARNING"
